#pragma once

#include <xrn/Engine/Component/Detail/Vector3.hpp>
#include <xrn/Engine/Component/Mass.hpp>
#include <xrn/Engine/Component/Acceleration.hpp>

namespace xrn::engine::component { class Control; }
namespace xrn::engine::component { class Acceleration; }

namespace xrn::engine::component {

///////////////////////////////////////////////////////////////////////////
/// \brief Velocity component
/// \ingroup component
///
/// Move the Position component
/// Can be updated with the control component
///
/// \include Velocity.hpp <xrn/Engine/Component/Velocity.hpp>
///
///////////////////////////////////////////////////////////////////////////
class Velocity
    : public ::xrn::engine::component::detail::Vector3<Velocity>
{

public:

    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////
    // Static
    //
    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    EXPOSE_VECTOR3_METHODS(Velocity);



public:

    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////
    // Constructors
    //
    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    explicit Velocity();

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    explicit Velocity(
        float value
    );

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    explicit Velocity(
        ::glm::vec3 value
    );

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    explicit Velocity(
        float positionX
        , float positionY
        , float positionZ
    );


    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////
    // Update
    //
    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    auto update(
        const ::xrn::engine::component::Control& control
    ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    auto updateDirection(
        const ::glm::vec3& direction
    ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    auto applyAcceleration(
        ::xrn::Time deltaTime
        , const ::xrn::engine::component::Acceleration& acceleration
    ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    auto applyAcceleration(
        ::xrn::Time deltaTime
        , const ::xrn::engine::component::Acceleration& acceleration
        , const ::xrn::engine::component::Mass& mass
    ) -> Velocity&;


private:

    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////
    // Update
    //
    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    // auto updateForward(
        // const ::glm::vec3& direction
    // ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    // auto updateBackward(
        // const ::glm::vec3& direction
    // ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    // auto updateRight(
        // const ::glm::vec3& direction
    // ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    // auto updateLeft(
        // const ::glm::vec3& direction
    // ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    // auto updateUp(
        // const ::glm::vec3& direction
    // ) -> Velocity&;

    ///////////////////////////////////////////////////////////////////////////
    ///
    ///////////////////////////////////////////////////////////////////////////
    // auto updateDown(
        // const ::glm::vec3& direction
    // ) -> Velocity&;

};

} // namespace xrn::engine::component
